<canvas id="canvas" width=1000 height=800 />
<script>

let ctx = document.getElementById('canvas').getContext('2d')
ctx.fillStyle = '#0001'

const drawCell = (x, y, z) => {
	const size = 4
	const gap = 0
	const x0 = 200
	const y0 = 200
	ctx.fillRect(x0 + (x*1/2*size + y*1/2*size), y0 + (x*1/3*size - y*1/3*size + z*1/2*size), size-gap, size-gap)
}

const rand = (a) => Math.ceil(Math.random() * a)
const randa = () => Math.random() > 0.2 ? rand(10) : 1
const randx = randa()
const randy = randa()
const randz = randa()

for (x = 1; x <= 100; x++) {
	for (y = 1; y <= 100; y++) {
		for (z = 1; z <= 100; z++) {
			//if (true) {
			//if (Math.random() > 0.9/*x % 2 == 0 && y % 2 == 0*/) {
			if (x % randx == 0 && y % randy == 0 && z % randz == 0) {
					drawCell(x, y, z)
			}
		}
	}
}
</script>